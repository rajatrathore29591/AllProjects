$(window).load(function () { "use strict"; $('#loading-mask').hide() }); $(window).bind("load", function () { var timeout = setTimeout(function () { $("img.lazy").trigger("sporty") }, 1000) }); $(window).scroll(function () { "use strict"; var windscroll = $(window).scrollTop(); var headerHeight = $('nav[id=header]').height(); $('section').each(function (i) { if ($(this).position().top <= windscroll + headerHeight) { var activeSectionId = $(this).attr('id'); var activeSection = $('nav li a[data-scroll=' + activeSectionId + ']'); if (activeSection.length > 0) { $('nav li a.active').removeClass('active'); activeSection.addClass('active') } } }) }).scroll(); $(document).ready(function () { "use strict"; $('#header').hcSticky(); $("img.lazy").lazyload({ event: "sporty", effect: "fadeIn" }); $('nav li a').on('click', function () { "use strict"; var headerHeight = $('nav[id=header]').height(); var scrollAnchor = $(this).attr('data-scroll'), scrollPoint = $('section[id="' + scrollAnchor + '"]').offset().top - headerHeight; $('body,html').animate({ scrollTop: scrollPoint }, 500); return false }); $(".btn-download-app").each(function () { "use strict"; $(this).click(function () { "use strict"; var headerHeight = $('nav[id=header]').height(); var scrollPoint = $('section[id="download-app-section"]').offset().top - headerHeight; $('body,html').animate({ scrollTop: scrollPoint }, 1000) }) }) }); $(document).ready(function () { "use strict"; var mobile = $("#mobile-carousel"); mobile.owlCarousel({ lazyLoad: true, navigation: false, items: 4, itemsDesktop: [1199, 3], itemsTablet: [979, 2], itemsTabletSmall: [750, 1], itemsMobile: false }); var tablet = $("#tablet-carousel"); tablet.owlCarousel({ lazyLoad: true, navigation: false, items: 3, itemsDesktop: [1199, 3], itemsTablet: [979, 2], itemsTabletSmall: [750, 1], itemsMobile: false }); tablet.hide(); $(".next").click(function () { "use strict"; if (tablet.is(":visible")) { tablet.trigger('owl.next') } else { mobile.trigger('owl.next') } }); $(".prev").click(function () { "use strict"; if (tablet.is(":visible")) { tablet.trigger('owl.prev') } else { mobile.trigger('owl.prev') } }); $("#mobile-select").click(function () { "use strict"; $(this).addClass('active'); $("#tablet-select").removeClass('active'); var $mobile = $("#mobile-carousel"); $("#tablet-carousel").fadeOut(500, function () { "use strict"; $mobile.fadeIn(100) }); animateArrows($mobile.height()) }); $("#tablet-select").click(function () { "use strict"; $(this).addClass('active'); $("#mobile-select").removeClass('active'); var $tablet = $("#tablet-carousel"); $("#mobile-carousel").fadeOut(500, function () { "use strict"; $tablet.fadeIn(100) }); animateArrows($tablet.height()) }) }); function animateArrows(height) { $(".arrow").each(function (index) { $(this).animate({ height: height }, 600) }) } $('#counter-section').waypoint(function (direction) { function countersStart() { $('.chart').easyPieChart({ barColor: false, trackColor: false, scaleColor: false, scaleLength: false, lineCap: false, lineWidth: false, size: false, animate: 3000, onStep: function (from, to, percent) { $(this.el).find('.percent').text(commafy(Math.round(percent))) } }) } setTimeout(countersStart, 0) }, { offset: "70%" }); function commafy(num) { var str = num.toString().split('.'); if (str[0].length >= 5) { str[0] = str[0].replace(/(\d)(?=(\d{3})+$)/g, '$1 ') } if (str[1] && str[1].length >= 5) { str[1] = str[1].replace(/(\d{3})/g, '$1 ') } return str.join('.') } function fullHeightHome() { var homeHeight = Math.max($(window).height(), 480); $("#home").height(homeHeight); $(".title-image").parent().height(homeHeight) } function reserveNavLinkWidth() { $('nav li a').each(function () { "use strict"; $(this).parent().width($(this).width() + 4) }) } $(window).resize(function () { "use strict"; fullHeightHome() }); $(document).ready(function () { "use strict"; fullHeightHome(); reserveNavLinkWidth(); new WOW().init(); new UIMorphingButton(document.querySelector('.morph-button'), { closeEl: '.icon-close' }) }); var $subscribe = $(".subscribe-block"); var toggleClass = "open"; $(".subscribe-morph-button").click(function () { "use strict"; $subscribe.toggleClass(toggleClass) }); var emailInput = $("input[name='email']"); emailInput.keyup(function () { "use strict"; var email = emailInput.val(); if (email !== null && email !== undefined && (email.length == 0 || isEmail(email))) { emailInput.parent().removeClass("has-error") } else { emailInput.parent().addClass("has-error") } }); $("#subscribe-btn").click(function (e) { e.stopImmediatePropagation(); var email = emailInput.val(); if (email !== null && email !== undefined && isEmail(email)) { $subscribe.removeClass(toggleClass); $subscribe.animate({ height: "0" }, 600, "swing", function () { "use strict"; $(this).after('<h3 class="heading success-subscribe" style="margin-top:100px">Thanks! We will keep in touch.</h3>'); $(".subscribe-morph-button").unbind("click") }) } else { emailInput.parent().addClass("has-error"); var button = $(this); button.addClass("shake animated"); button.one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () { "use strict"; button.removeClass("shake animated") }) } }); function isEmail(email) { var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/; return regex.test(email) }